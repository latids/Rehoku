import{useState as e,useEffect as r,useCallback as t,useRef as n}from'react';const o=(t,n)=>{const[o,c]=e(t);return r((()=>{let e=setTimeout((()=>{c(t)}),n);return()=>{clearTimeout(e)}}),[t,n]),o},c=t=>{const[n,o]=e(null),[c,i]=e(!0),[s,u]=e(null);return r((()=>((async()=>{try{i(!0);const e=await fetch(t);if(!e.ok)throw new Error('Network response was not ok');const r=await e.json();o(r)}catch(e){u(e)}finally{i(!1)}})(),()=>{})),[t]),{data:n,loading:c,error:s}},i=n=>{const[o,c]=e(!1),i=t((e=>{e.key===n&&c(!0)}),[n]),s=t((e=>{e.key===n&&c(!1)}),[n]);return r((()=>(window.addEventListener('keydown',i),window.addEventListener('keyup',s),()=>{window.removeEventListener('keydown',i),window.removeEventListener('keyup',s)})),[i,s]),o},s=(t,n)=>{const[o,c]=e((()=>{try{const e=window.localStorage.getItem(t);return e?JSON.parse(e):n}catch(e){return console.error('Error retrieving data from localStorage:',e),n}}));return r((()=>{try{window.localStorage.setItem(t,JSON.stringify(o))}catch(e){console.error('Error storing data in localStorage:',e)}}),[t,o]),[o,c]},u=e=>{const r=n(e),t=n();return r.current!==e&&(t.current=r.current,r.current=e),t.current},a=(r=!1)=>{const[t,n]=e(r);return[t,()=>{n((e=>!e))}]},w=()=>{const[t,n]=e({width:window.innerWidth,height:window.innerHeight});return r((()=>{const e=()=>{n({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener('resize',e),()=>{window.removeEventListener('resize',e)}}),[]),t},d=(t=15e4)=>{const[n,o]=e(!1);return r((()=>{let e;const r=()=>{clearTimeout(e),e=setTimeout((()=>o(!0)),t)},n=()=>{o(!1),r()};return window.addEventListener('mousemove',n),window.addEventListener('keydown',n),r(),()=>{window.removeEventListener('mousemove',n),window.removeEventListener('keydown',n),clearTimeout(e)}}),[t]),n},l=(e,r)=>{const t=n(null),o=n(0);return(...n)=>{const c=Date.now(),i=c-o.current;t.current||(i>=r?(e(...n),o.current=c):t.current=setTimeout((()=>{e(...n),o.current=Date.now(),t.current=null}),r-i))}},m=(e,t=1e3,o=0)=>{const c=n();return r((()=>{c.current=e}),[e]),r((()=>{const r=((e,r,t)=>'function'!=typeof e?(console.error('useTimeout: Callback must be a function.'),!1):'number'!=typeof r||r<0?(console.error('useTimeout: Delay must be a positive number.'),!1):!('number'!=typeof t||t<0)||(console.error('useTimeout: Render count must be a positive number, by default its 0.'),!1))(e,t,o);if(r&&o>0){const e=setTimeout((()=>{c.current()}),t);return()=>clearTimeout(e)}}),[e,t,o]),r((()=>{o++})),o},y=()=>{const[t,n]=e(!1);r((()=>{const e=window.matchMedia('(prefers-color-scheme: dark)').matches;n(e)}),[]);r((()=>{var e;e=t,document.body.style.backgroundColor=e?'#1a1a1a':'#FEFFEC',document.body.style.color=e?'#ffffff':'#000000'}),[t]);return[t,()=>{n((e=>!e))}]},f=(e,t='log')=>{const o=n(e);r((()=>{if(o.current!==e){switch(t){case'error':console.error(e);break;case'warn':console.warn(e);break;default:console.log(e)}o.current=e}}),[e,t])};export{f as useConsole,o as useDebounce,c as useFetch,y as useIsDarkMode,d as useIsIdle,i as useKeyPress,s as useLocalStorage,u as usePrevious,l as useThrottle,m as useTimeout,a as useToggle,w as useWindowResize};
